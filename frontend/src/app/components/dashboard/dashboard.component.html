<div class="dashboard-container">
  <div class="stats-section">
    <mat-card class="stats-card">
      <mat-card-header>
        <mat-card-title>Projects Overview</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-item">
          <span>Total Projects</span>
          <span class="stat-number">{{ projectStats.total }}</span>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <span>Planning</span>
          <span class="stat-number">{{ projectStats.planning }}</span>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <span>In Progress</span>
          <span class="stat-number">{{ projectStats.inProgress }}</span>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <span>Completed</span>
          <span class="stat-number">{{ projectStats.completed }}</span>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stats-card">
      <mat-card-header>
        <mat-card-title>Tasks Overview</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="stat-item">
          <span>Total Tasks</span>
          <span class="stat-number">{{ taskStats.total }}</span>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <span>To Do</span>
          <span class="stat-number">{{ taskStats.todo }}</span>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <span>In Progress</span>
          <span class="stat-number">{{ taskStats.inProgress }}</span>
        </div>
        <mat-divider></mat-divider>
        <div class="stat-item">
          <span>Completed</span>
          <span class="stat-number">{{ taskStats.completed }}</span>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="recent-section">
    <mat-card class="recent-card">
      <mat-card-header>
        <mat-card-title>Recent Projects</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="recentProjects.length === 0" class="no-data">
          No projects available
        </div>
        <div *ngFor="let project of recentProjects" class="recent-item">
          <div class="item-header">
            <h3>{{ project.title }}</h3>
            <span class="status-badge" [class]="project.status">{{
              project.status
            }}</span>
          </div>
          <p [innerHTML]="project.description"></p>
          <mat-progress-bar
            [mode]="'determinate'"
            [value]="project.progress"
          ></mat-progress-bar>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" routerLink="/projects">
          View All Projects
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <mat-card *ngIf="randomFact || factError" class="fact-card">
    <mat-card-header>
      <mat-card-title>Random Fact</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngIf="randomFact" class="fact-text">{{ randomFact }}</div>
      <div *ngIf="factError" class="error-message">{{ factError }}</div>
    </mat-card-content>
  </mat-card>
</div>
